{# JWT Decoder Tool UI Partial #}
<style>
  .jwt-parts { display: grid; gap: var(--space-4); margin-top: var(--space-4); }
  .jwt-part { background: var(--bg-secondary); border-radius: var(--radius-md); padding: var(--space-4); border-left: 4px solid var(--color-primary); }
  .jwt-part--header { border-left-color: #ef4444; }
  .jwt-part--payload { border-left-color: #8b5cf6; }
  .jwt-part--signature { border-left-color: #06b6d4; }
  .jwt-part-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-3); }
  .jwt-part-title { font-weight: 600; font-size: var(--text-sm); }
  .jwt-part-title--header { color: #ef4444; }
  .jwt-part-title--payload { color: #8b5cf6; }
  .jwt-part-title--signature { color: #06b6d4; }
  .jwt-part-content { background: var(--bg-primary); padding: var(--space-3); border-radius: var(--radius-sm); font-family: monospace; font-size: var(--text-sm); white-space: pre-wrap; word-break: break-all; border: 1px solid var(--border-color); max-height: 200px; overflow-y: auto; }
  .jwt-claim { display: flex; padding: var(--space-2) 0; border-bottom: 1px solid var(--border-color); }
  .jwt-claim:last-child { border-bottom: none; }
  .jwt-claim-name { font-weight: 500; min-width: 100px; color: var(--text-secondary); }
  .jwt-claim-value { color: var(--text-primary); word-break: break-all; }
  .jwt-claim-time { font-size: var(--text-xs); color: var(--text-muted); margin-left: var(--space-2); }
  .jwt-status { padding: var(--space-3); border-radius: var(--radius-md); margin-bottom: var(--space-4); }
  .jwt-status.valid { background: #dcfce7; border: 1px solid #86efac; color: #166534; }
  .jwt-status.invalid { background: #fef2f2; border: 1px solid #fecaca; color: #b91c1c; }
  .jwt-status.warning { background: #fef9c3; border: 1px solid #fde047; color: #854d0e; }
  .jwt-raw { margin-top: var(--space-2); padding-top: var(--space-2); }
  .jwt-raw-label { font-size: var(--text-xs); color: var(--text-muted); margin-bottom: var(--space-1); }
  .jwt-raw-value { font-family: monospace; font-size: var(--text-xs); color: var(--text-muted); word-break: break-all; }
</style>

<div class="tool-container">
  <!-- Input Section -->
  <div class="tool-input-group">
    <div class="input-header">
      <label for="jwt-input" class="input-label">Enter JWT Token</label>
      <button type="button" id="sample-jwt" class="btn btn-text btn-sm">{{ "common.loadSample" | t(lang) }}</button>
    </div>
    <textarea id="jwt-input" class="tool-textarea" rows="4" placeholder="Paste your JWT token here (eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...)" spellcheck="false"></textarea>
  </div>

  <!-- Action Buttons -->
  <div class="tool-actions">
    <button type="button" id="decode-jwt" class="btn btn-primary">{{ "common.decode" | t(lang) }} JWT</button>
    <button type="button" id="clear-jwt" class="btn btn-ghost">{{ "common.clear" | t(lang) }}</button>
  </div>

  <!-- Status -->
  <div id="jwt-status" class="hidden"></div>

  <!-- Decoded Parts -->
  <div class="jwt-parts" id="jwt-results">
    <div class="jwt-part jwt-part--header">
      <div class="jwt-part-header">
        <span class="jwt-part-title jwt-part-title--header">{{ "common.header" | t(lang) | upper }}</span>
        <button type="button" class="btn btn-secondary btn-sm jwt-copy-btn" data-part="header">{{ "common.copy" | t(lang) }}</button>
      </div>
      <div class="jwt-part-content" id="jwt-header">-</div>
      <div class="jwt-raw">
        <div class="jwt-raw-label">Encoded</div>
        <div class="jwt-raw-value" id="jwt-header-raw">-</div>
      </div>
    </div>

    <div class="jwt-part jwt-part--payload">
      <div class="jwt-part-header">
        <span class="jwt-part-title jwt-part-title--payload">{{ "common.payload" | t(lang) | upper }}</span>
        <button type="button" class="btn btn-secondary btn-sm jwt-copy-btn" data-part="payload">{{ "common.copy" | t(lang) }}</button>
      </div>
      <div class="jwt-part-content" id="jwt-payload">-</div>
      <div class="jwt-raw">
        <div class="jwt-raw-label">Encoded</div>
        <div class="jwt-raw-value" id="jwt-payload-raw">-</div>
      </div>
    </div>

    <div class="jwt-part jwt-part--signature">
      <div class="jwt-part-header">
        <span class="jwt-part-title jwt-part-title--signature">{{ "common.signature" | t(lang) | upper }}</span>
        <button type="button" class="btn btn-secondary btn-sm jwt-copy-btn" data-part="signature">{{ "common.copy" | t(lang) }}</button>
      </div>
      <div class="jwt-part-content" id="jwt-signature">-</div>
    </div>
  </div>
</div>
