{# Color Picker & Converter Tool UI Partial #}
<style>
  .color-picker-container { display: grid; gap: var(--space-6); }
  .color-main { display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-6); }
  @media (max-width: 768px) { .color-main { grid-template-columns: 1fr; } }
  .color-preview-section { display: flex; flex-direction: column; gap: var(--space-4); }
  .color-preview { width: 100%; aspect-ratio: 2/1; border-radius: var(--radius-lg); border: 1px solid var(--color-border); display: flex; align-items: center; justify-content: center; font-size: var(--text-2xl); font-weight: 600; transition: background-color 0.2s; }

  /* Custom Color Picker */
  .color-picker-area { display: flex; flex-direction: column; gap: var(--space-3); }
  .color-gradient-box { position: relative; width: 100%; aspect-ratio: 1; border-radius: var(--radius-md); cursor: crosshair; overflow: hidden; border: 1px solid var(--color-border); }
  .color-gradient-white { position: absolute; inset: 0; background: linear-gradient(to right, #fff, transparent); }
  .color-gradient-black { position: absolute; inset: 0; background: linear-gradient(to top, #000, transparent); }
  .color-picker-cursor { position: absolute; width: 16px; height: 16px; border: 2px solid #fff; border-radius: 50%; box-shadow: 0 0 0 1px #000, inset 0 0 0 1px #000; transform: translate(-50%, -50%); pointer-events: none; }
  .color-hue-slider { position: relative; width: 100%; height: 20px; border-radius: var(--radius-md); background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%); cursor: pointer; border: 1px solid var(--color-border); }
  .color-hue-cursor { position: absolute; top: -2px; width: 8px; height: 24px; background: #fff; border: 1px solid #333; border-radius: 2px; transform: translateX(-50%); pointer-events: none; box-shadow: var(--shadow-sm); }

  .color-inputs { display: flex; flex-direction: column; gap: var(--space-4); }
  .color-input-group { display: grid; gap: var(--space-2); }
  .color-input-row { display: flex; gap: var(--space-2); align-items: center; }
  .color-input-row label { min-width: 45px; font-size: var(--text-sm); font-weight: 500; color: var(--text-secondary); }
  .color-input-row input[type="text"] { flex: 1; font-family: var(--font-mono); }
  .color-input-row input[type="number"] { width: 80px; font-family: var(--font-mono); text-align: center; -moz-appearance: textfield; }
  .color-input-row input[type="number"]::-webkit-outer-spin-button,
  .color-input-row input[type="number"]::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
  .color-input-row input[type="range"] { flex: 1; }
  .copy-btn { padding: var(--space-2) var(--space-3); font-size: var(--text-xs); }
  .color-format-section { background: var(--color-bg-alt); border-radius: var(--radius-md); padding: var(--space-4); }
  .color-format-title { font-weight: 600; margin-bottom: var(--space-3); color: var(--text-secondary); font-size: var(--text-sm); text-transform: uppercase; letter-spacing: 0.05em; }
  .color-palette { display: grid; gap: var(--space-4); }
  .palette-row { display: grid; grid-template-columns: repeat(auto-fit, minmax(60px, 1fr)); gap: var(--space-2); }
  .palette-color { aspect-ratio: 1; border-radius: var(--radius-md); border: 1px solid var(--color-border); cursor: pointer; transition: transform 0.15s, box-shadow 0.15s; position: relative; }
  .palette-color:hover { transform: scale(1.1); box-shadow: var(--shadow-md); z-index: 1; }
  .palette-label { text-align: center; font-size: var(--text-xs); color: var(--text-muted); margin-top: var(--space-1); }
  .complementary-section { margin-top: var(--space-6); }
</style>

<div class="color-main">
  <!-- Color Preview & Picker -->
  <div class="color-preview-section">
    <div class="color-preview" id="color-preview" style="background-color: #2563eb;">
      <span id="preview-text" style="color: #ffffff;">#2563EB</span>
    </div>
    <!-- Custom Visual Color Picker -->
    <div class="color-picker-area">
      <div class="color-gradient-box" id="color-gradient-box" style="background-color: hsl(221, 100%, 50%);">
        <div class="color-gradient-white"></div>
        <div class="color-gradient-black"></div>
        <div class="color-picker-cursor" id="color-cursor" style="left: 84%; top: 8%;"></div>
      </div>
      <div class="color-hue-slider" id="color-hue-slider">
        <div class="color-hue-cursor" id="hue-cursor" style="left: 61%;"></div>
      </div>
    </div>
    <button type="button" id="random-color" class="btn btn-secondary">{{ "common.generateNew" | t(lang) }}</button>
    <input type="color" id="color-picker" style="display: none;" value="#2563eb">
  </div>

  <!-- Color Inputs -->
  <div class="color-inputs">
    <!-- HEX -->
    <div class="color-format-section">
      <div class="color-format-title">HEX</div>
      <div class="color-input-row">
        <label>HEX</label>
        <input type="text" id="hex-input" class="tool-input" value="#2563EB" spellcheck="false">
        <button type="button" class="btn btn-secondary copy-btn" data-copy="hex">{{ "common.copy" | t(lang) }}</button>
      </div>
    </div>

    <!-- RGB -->
    <div class="color-format-section">
      <div class="color-format-title">RGB</div>
      <div class="color-input-row">
        <label>R</label>
        <input type="number" id="rgb-r" class="tool-input" min="0" max="255" value="37">
        <input type="range" id="rgb-r-slider" min="0" max="255" value="37">
      </div>
      <div class="color-input-row">
        <label>G</label>
        <input type="number" id="rgb-g" class="tool-input" min="0" max="255" value="99">
        <input type="range" id="rgb-g-slider" min="0" max="255" value="99">
      </div>
      <div class="color-input-row">
        <label>B</label>
        <input type="number" id="rgb-b" class="tool-input" min="0" max="255" value="235">
        <input type="range" id="rgb-b-slider" min="0" max="255" value="235">
      </div>
      <div class="color-input-row" style="margin-top: var(--space-2);">
        <label>CSS</label>
        <input type="text" id="rgb-css" class="tool-input" value="rgb(37, 99, 235)" readonly>
        <button type="button" class="btn btn-secondary copy-btn" data-copy="rgb">{{ "common.copy" | t(lang) }}</button>
      </div>
    </div>

    <!-- HSL -->
    <div class="color-format-section">
      <div class="color-format-title">HSL</div>
      <div class="color-input-row">
        <label>H</label>
        <input type="number" id="hsl-h" class="tool-input" min="0" max="360" value="221">
        <input type="range" id="hsl-h-slider" min="0" max="360" value="221">
      </div>
      <div class="color-input-row">
        <label>S</label>
        <input type="number" id="hsl-s" class="tool-input" min="0" max="100" value="83">
        <input type="range" id="hsl-s-slider" min="0" max="100" value="83">
      </div>
      <div class="color-input-row">
        <label>L</label>
        <input type="number" id="hsl-l" class="tool-input" min="0" max="100" value="53">
        <input type="range" id="hsl-l-slider" min="0" max="100" value="53">
      </div>
      <div class="color-input-row" style="margin-top: var(--space-2);">
        <label>CSS</label>
        <input type="text" id="hsl-css" class="tool-input" value="hsl(221, 83%, 53%)" readonly>
        <button type="button" class="btn btn-secondary copy-btn" data-copy="hsl">{{ "common.copy" | t(lang) }}</button>
      </div>
    </div>
  </div>
</div>

<!-- Color Palette Section -->
<div class="complementary-section">
  <h3 style="margin-bottom: var(--space-4);">Color Palette</h3>

  <div class="color-palette">
    <div>
      <div class="palette-label" style="margin-bottom: var(--space-2); font-weight: 500;">Shades</div>
      <div class="palette-row" id="shades-palette"></div>
    </div>
    <div>
      <div class="palette-label" style="margin-bottom: var(--space-2); font-weight: 500;">Tints</div>
      <div class="palette-row" id="tints-palette"></div>
    </div>
    <div>
      <div class="palette-label" style="margin-bottom: var(--space-2); font-weight: 500;">Complementary</div>
      <div class="palette-row" id="complementary-palette"></div>
    </div>
  </div>
</div>
