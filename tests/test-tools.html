<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>OneDevKit - Tool Test Suite</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; padding: 2rem; background: #f5f5f5; }
    h1 { margin-bottom: 1rem; color: #1e293b; }
    h2 { margin: 2rem 0 1rem; color: #334155; border-bottom: 2px solid #e2e8f0; padding-bottom: 0.5rem; }
    .test-group { background: white; border-radius: 8px; padding: 1.5rem; margin-bottom: 1rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
    .test { display: flex; align-items: center; padding: 0.75rem 0; border-bottom: 1px solid #f1f5f9; }
    .test:last-child { border-bottom: none; }
    .test-name { flex: 1; }
    .test-status { padding: 0.25rem 0.75rem; border-radius: 4px; font-size: 0.875rem; font-weight: 500; }
    .pending { background: #fef3c7; color: #92400e; }
    .pass { background: #d1fae5; color: #065f46; }
    .fail { background: #fee2e2; color: #991b1b; }
    button { padding: 0.5rem 1rem; background: #2563eb; color: white; border: none; border-radius: 4px; cursor: pointer; margin-right: 0.5rem; }
    button:hover { background: #1d4ed8; }
    .run-all { background: #059669; font-size: 1.1rem; padding: 0.75rem 1.5rem; margin-bottom: 2rem; }
    .run-all:hover { background: #047857; }
    .summary { background: #1e293b; color: white; padding: 1.5rem; border-radius: 8px; margin-top: 2rem; }
    .summary h3 { margin-bottom: 1rem; }
    .summary-stats { display: flex; gap: 2rem; }
    .stat { text-align: center; }
    .stat-value { font-size: 2rem; font-weight: bold; }
    .stat-label { font-size: 0.875rem; opacity: 0.8; }
    pre { background: #1e293b; color: #e2e8f0; padding: 1rem; border-radius: 4px; overflow-x: auto; font-size: 0.875rem; margin-top: 0.5rem; }
    .note { background: #fffbeb; border-left: 4px solid #f59e0b; padding: 1rem; margin: 1rem 0; }
  </style>
</head>
<body>
  <h1>OneDevKit - Tool Test Suite</h1>
  <p style="margin-bottom: 1rem; color: #64748b;">Automated tests for all developer tools. Open browser console for detailed logs.</p>

  <button class="run-all" onclick="runAllTests()">Run All Tests</button>

  <div class="summary" id="summary" style="display: none;">
    <h3>Test Results</h3>
    <div class="summary-stats">
      <div class="stat">
        <div class="stat-value" id="total-tests">0</div>
        <div class="stat-label">Total Tests</div>
      </div>
      <div class="stat">
        <div class="stat-value" id="passed-tests" style="color: #22c55e;">0</div>
        <div class="stat-label">Passed</div>
      </div>
      <div class="stat">
        <div class="stat-value" id="failed-tests" style="color: #ef4444;">0</div>
        <div class="stat-label">Failed</div>
      </div>
    </div>
  </div>

  <!-- JSON Formatter Tests -->
  <h2>JSON Formatter</h2>
  <div class="test-group">
    <div class="test">
      <span class="test-name">Valid JSON parsing</span>
      <span class="test-status pending" id="json-1">Pending</span>
    </div>
    <div class="test">
      <span class="test-name">Invalid JSON detection</span>
      <span class="test-status pending" id="json-2">Pending</span>
    </div>
    <div class="test">
      <span class="test-name">JSON formatting (2 spaces)</span>
      <span class="test-status pending" id="json-3">Pending</span>
    </div>
    <div class="test">
      <span class="test-name">JSON minification</span>
      <span class="test-status pending" id="json-4">Pending</span>
    </div>
    <div class="test">
      <span class="test-name">Nested object handling</span>
      <span class="test-status pending" id="json-5">Pending</span>
    </div>
    <div class="test">
      <span class="test-name">Array handling</span>
      <span class="test-status pending" id="json-6">Pending</span>
    </div>
    <div class="test">
      <span class="test-name">Unicode characters</span>
      <span class="test-status pending" id="json-7">Pending</span>
    </div>
    <div class="test">
      <span class="test-name">Empty object/array</span>
      <span class="test-status pending" id="json-8">Pending</span>
    </div>
  </div>

  <!-- Password Generator Tests -->
  <h2>Password Generator</h2>
  <div class="test-group">
    <div class="test">
      <span class="test-name">Default length (16 characters)</span>
      <span class="test-status pending" id="pwd-1">Pending</span>
    </div>
    <div class="test">
      <span class="test-name">Custom length (8-128)</span>
      <span class="test-status pending" id="pwd-2">Pending</span>
    </div>
    <div class="test">
      <span class="test-name">Uppercase only</span>
      <span class="test-status pending" id="pwd-3">Pending</span>
    </div>
    <div class="test">
      <span class="test-name">Lowercase only</span>
      <span class="test-status pending" id="pwd-4">Pending</span>
    </div>
    <div class="test">
      <span class="test-name">Numbers only</span>
      <span class="test-status pending" id="pwd-5">Pending</span>
    </div>
    <div class="test">
      <span class="test-name">Symbols included</span>
      <span class="test-status pending" id="pwd-6">Pending</span>
    </div>
    <div class="test">
      <span class="test-name">All character types</span>
      <span class="test-status pending" id="pwd-7">Pending</span>
    </div>
    <div class="test">
      <span class="test-name">Randomness (10 unique passwords)</span>
      <span class="test-status pending" id="pwd-8">Pending</span>
    </div>
  </div>

  <!-- UUID Generator Tests -->
  <h2>UUID Generator</h2>
  <div class="test-group">
    <div class="test">
      <span class="test-name">Valid UUID v4 format</span>
      <span class="test-status pending" id="uuid-1">Pending</span>
    </div>
    <div class="test">
      <span class="test-name">UUID uniqueness (100 UUIDs)</span>
      <span class="test-status pending" id="uuid-2">Pending</span>
    </div>
    <div class="test">
      <span class="test-name">Bulk generation (10 UUIDs)</span>
      <span class="test-status pending" id="uuid-3">Pending</span>
    </div>
    <div class="test">
      <span class="test-name">UUID validation (valid)</span>
      <span class="test-status pending" id="uuid-4">Pending</span>
    </div>
    <div class="test">
      <span class="test-name">UUID validation (invalid)</span>
      <span class="test-status pending" id="uuid-5">Pending</span>
    </div>
    <div class="test">
      <span class="test-name">Lowercase format</span>
      <span class="test-status pending" id="uuid-6">Pending</span>
    </div>
  </div>

  <!-- Lorem Ipsum Tests -->
  <h2>Lorem Ipsum Generator</h2>
  <div class="test-group">
    <div class="test">
      <span class="test-name">Generate 1 paragraph</span>
      <span class="test-status pending" id="lorem-1">Pending</span>
    </div>
    <div class="test">
      <span class="test-name">Generate 5 paragraphs</span>
      <span class="test-status pending" id="lorem-2">Pending</span>
    </div>
    <div class="test">
      <span class="test-name">Generate sentences</span>
      <span class="test-status pending" id="lorem-3">Pending</span>
    </div>
    <div class="test">
      <span class="test-name">Generate words</span>
      <span class="test-status pending" id="lorem-4">Pending</span>
    </div>
    <div class="test">
      <span class="test-name">Starts with "Lorem ipsum"</span>
      <span class="test-status pending" id="lorem-5">Pending</span>
    </div>
    <div class="test">
      <span class="test-name">Word count accuracy</span>
      <span class="test-status pending" id="lorem-6">Pending</span>
    </div>
  </div>

  <!-- QR Code Tests -->
  <h2>QR Code Generator</h2>
  <div class="test-group">
    <div class="test">
      <span class="test-name">Generate from URL</span>
      <span class="test-status pending" id="qr-1">Pending</span>
    </div>
    <div class="test">
      <span class="test-name">Generate from text</span>
      <span class="test-status pending" id="qr-2">Pending</span>
    </div>
    <div class="test">
      <span class="test-name">Size 256x256</span>
      <span class="test-status pending" id="qr-3">Pending</span>
    </div>
    <div class="test">
      <span class="test-name">Size 512x512</span>
      <span class="test-status pending" id="qr-4">Pending</span>
    </div>
    <div class="test">
      <span class="test-name">Error correction levels</span>
      <span class="test-status pending" id="qr-5">Pending</span>
    </div>
    <div class="test">
      <span class="test-name">Canvas element created</span>
      <span class="test-status pending" id="qr-6">Pending</span>
    </div>
  </div>

  <!-- Base64 Encoder Tests -->
  <h2>Base64 Encoder/Decoder</h2>
  <div class="test-group">
    <div class="test">
      <span class="test-name">Encode simple text</span>
      <span class="test-status pending" id="base64-1">Pending</span>
    </div>
    <div class="test">
      <span class="test-name">Decode Base64 to text</span>
      <span class="test-status pending" id="base64-2">Pending</span>
    </div>
    <div class="test">
      <span class="test-name">Encode/decode roundtrip</span>
      <span class="test-status pending" id="base64-3">Pending</span>
    </div>
    <div class="test">
      <span class="test-name">URL-safe encoding</span>
      <span class="test-status pending" id="base64-4">Pending</span>
    </div>
    <div class="test">
      <span class="test-name">Unicode characters (UTF-8)</span>
      <span class="test-status pending" id="base64-5">Pending</span>
    </div>
    <div class="test">
      <span class="test-name">Invalid Base64 detection</span>
      <span class="test-status pending" id="base64-6">Pending</span>
    </div>
    <div class="test">
      <span class="test-name">Empty string handling</span>
      <span class="test-status pending" id="base64-7">Pending</span>
    </div>
    <div class="test">
      <span class="test-name">Line breaks (MIME format)</span>
      <span class="test-status pending" id="base64-8">Pending</span>
    </div>
    <div class="test">
      <span class="test-name">Whitespace handling in decode</span>
      <span class="test-status pending" id="base64-9">Pending</span>
    </div>
    <div class="test">
      <span class="test-name">Large text encoding</span>
      <span class="test-status pending" id="base64-10">Pending</span>
    </div>
  </div>

  <!-- Common Utilities Tests -->
  <h2>Common Utilities</h2>
  <div class="test-group">
    <div class="test">
      <span class="test-name">Theme toggle (dark/light)</span>
      <span class="test-status pending" id="util-1">Pending</span>
    </div>
    <div class="test">
      <span class="test-name">Clipboard copy</span>
      <span class="test-status pending" id="util-2">Pending</span>
    </div>
    <div class="test">
      <span class="test-name">Toast notifications</span>
      <span class="test-status pending" id="util-3">Pending</span>
    </div>
    <div class="test">
      <span class="test-name">JSON validation helper</span>
      <span class="test-status pending" id="util-4">Pending</span>
    </div>
    <div class="test">
      <span class="test-name">URL validation helper</span>
      <span class="test-status pending" id="util-5">Pending</span>
    </div>
    <div class="test">
      <span class="test-name">Email validation helper</span>
      <span class="test-status pending" id="util-6">Pending</span>
    </div>
    <div class="test">
      <span class="test-name">Debounce function</span>
      <span class="test-status pending" id="util-7">Pending</span>
    </div>
  </div>

  <div class="note">
    <strong>Note:</strong> These tests run in the browser and simulate tool functionality.
    For full integration testing, open each tool page individually and test manually.
  </div>

  <script>
    // Test results tracking
    let results = { passed: 0, failed: 0, total: 0 };

    function setStatus(id, passed, message = '') {
      const el = document.getElementById(id);
      el.className = `test-status ${passed ? 'pass' : 'fail'}`;
      el.textContent = passed ? 'Pass' : 'Fail';
      if (message) el.title = message;

      results.total++;
      if (passed) results.passed++;
      else results.failed++;
    }

    function updateSummary() {
      document.getElementById('summary').style.display = 'block';
      document.getElementById('total-tests').textContent = results.total;
      document.getElementById('passed-tests').textContent = results.passed;
      document.getElementById('failed-tests').textContent = results.failed;
    }

    // ========================================
    // JSON Tests
    // ========================================
    function testJSON() {
      console.log('Running JSON tests...');

      // Test 1: Valid JSON parsing
      try {
        const valid = JSON.parse('{"name": "test", "value": 123}');
        setStatus('json-1', valid.name === 'test' && valid.value === 123);
      } catch (e) {
        setStatus('json-1', false, e.message);
      }

      // Test 2: Invalid JSON detection
      try {
        JSON.parse('{invalid json}');
        setStatus('json-2', false, 'Should have thrown');
      } catch (e) {
        setStatus('json-2', true);
      }

      // Test 3: Formatting with 2 spaces
      const formatted = JSON.stringify({a: 1}, null, 2);
      setStatus('json-3', formatted.includes('\n') && formatted.includes('  '));

      // Test 4: Minification
      const minified = JSON.stringify({a: 1, b: 2});
      setStatus('json-4', minified === '{"a":1,"b":2}');

      // Test 5: Nested objects
      const nested = JSON.parse('{"outer": {"inner": {"deep": true}}}');
      setStatus('json-5', nested.outer.inner.deep === true);

      // Test 6: Array handling
      const arr = JSON.parse('[1, 2, 3, {"key": "value"}]');
      setStatus('json-6', arr.length === 4 && arr[3].key === 'value');

      // Test 7: Unicode
      const unicode = JSON.parse('{"emoji": "Hello"}');
      setStatus('json-7', unicode.emoji === 'Hello');

      // Test 8: Empty structures
      const empty = JSON.parse('{"obj": {}, "arr": []}');
      setStatus('json-8', Object.keys(empty.obj).length === 0 && empty.arr.length === 0);
    }

    // ========================================
    // Password Tests
    // ========================================
    function testPassword() {
      console.log('Running Password tests...');

      function generatePassword(length, options = {}) {
        const upper = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
        const lower = 'abcdefghijklmnopqrstuvwxyz';
        const numbers = '0123456789';
        const symbols = '!@#$%^&*()_+-=[]{}|;:,.<>?';

        let chars = '';
        if (options.upper !== false) chars += upper;
        if (options.lower !== false) chars += lower;
        if (options.numbers !== false) chars += numbers;
        if (options.symbols) chars += symbols;

        if (!chars) chars = lower; // fallback

        let password = '';
        const array = new Uint32Array(length);
        crypto.getRandomValues(array);
        for (let i = 0; i < length; i++) {
          password += chars[array[i] % chars.length];
        }
        return password;
      }

      // Test 1: Default length
      const pwd1 = generatePassword(16);
      setStatus('pwd-1', pwd1.length === 16);

      // Test 2: Custom length
      const pwd8 = generatePassword(8);
      const pwd128 = generatePassword(128);
      setStatus('pwd-2', pwd8.length === 8 && pwd128.length === 128);

      // Test 3: Uppercase only
      const pwdUpper = generatePassword(20, {lower: false, numbers: false});
      setStatus('pwd-3', /^[A-Z]+$/.test(pwdUpper));

      // Test 4: Lowercase only
      const pwdLower = generatePassword(20, {upper: false, numbers: false});
      setStatus('pwd-4', /^[a-z]+$/.test(pwdLower));

      // Test 5: Numbers only
      const pwdNum = generatePassword(20, {upper: false, lower: false});
      setStatus('pwd-5', /^[0-9]+$/.test(pwdNum));

      // Test 6: Symbols included
      const pwdSym = generatePassword(50, {symbols: true});
      setStatus('pwd-6', /[!@#$%^&*()_+\-=\[\]{}|;:,.<>?]/.test(pwdSym));

      // Test 7: All types
      const pwdAll = generatePassword(100, {symbols: true});
      const hasUpper = /[A-Z]/.test(pwdAll);
      const hasLower = /[a-z]/.test(pwdAll);
      const hasNum = /[0-9]/.test(pwdAll);
      setStatus('pwd-7', hasUpper && hasLower && hasNum);

      // Test 8: Randomness
      const passwords = new Set();
      for (let i = 0; i < 10; i++) {
        passwords.add(generatePassword(16));
      }
      setStatus('pwd-8', passwords.size === 10);
    }

    // ========================================
    // UUID Tests
    // ========================================
    function testUUID() {
      console.log('Running UUID tests...');

      function generateUUID() {
        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
          const r = crypto.getRandomValues(new Uint8Array(1))[0] % 16;
          const v = c === 'x' ? r : (r & 0x3 | 0x8);
          return v.toString(16);
        });
      }

      function isValidUUID(str) {
        return /^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(str);
      }

      // Test 1: Valid format
      const uuid1 = generateUUID();
      setStatus('uuid-1', isValidUUID(uuid1), uuid1);

      // Test 2: Uniqueness
      const uuids = new Set();
      for (let i = 0; i < 100; i++) {
        uuids.add(generateUUID());
      }
      setStatus('uuid-2', uuids.size === 100);

      // Test 3: Bulk generation
      const bulk = [];
      for (let i = 0; i < 10; i++) {
        bulk.push(generateUUID());
      }
      setStatus('uuid-3', bulk.length === 10 && bulk.every(isValidUUID));

      // Test 4: Valid UUID validation
      setStatus('uuid-4', isValidUUID('550e8400-e29b-41d4-a716-446655440000'));

      // Test 5: Invalid UUID detection
      setStatus('uuid-5', !isValidUUID('invalid-uuid') && !isValidUUID('550e8400-e29b-51d4-a716-446655440000'));

      // Test 6: Lowercase
      const uuidLower = generateUUID();
      setStatus('uuid-6', uuidLower === uuidLower.toLowerCase());
    }

    // ========================================
    // Lorem Ipsum Tests
    // ========================================
    function testLoremIpsum() {
      console.log('Running Lorem Ipsum tests...');

      const loremWords = ['lorem', 'ipsum', 'dolor', 'sit', 'amet', 'consectetur', 'adipiscing', 'elit', 'sed', 'do', 'eiusmod', 'tempor', 'incididunt', 'ut', 'labore', 'et', 'dolore', 'magna', 'aliqua'];

      function generateWords(count, startWithLorem = true) {
        let words = [];
        if (startWithLorem) {
          words = ['Lorem', 'ipsum', 'dolor', 'sit', 'amet'];
          count -= 5;
        }
        for (let i = 0; i < count; i++) {
          words.push(loremWords[Math.floor(Math.random() * loremWords.length)]);
        }
        return words.join(' ');
      }

      function generateSentence() {
        const wordCount = 8 + Math.floor(Math.random() * 10);
        let sentence = generateWords(wordCount, false);
        return sentence.charAt(0).toUpperCase() + sentence.slice(1) + '.';
      }

      function generateParagraph() {
        const sentences = [];
        for (let i = 0; i < 4 + Math.floor(Math.random() * 3); i++) {
          sentences.push(generateSentence());
        }
        return sentences.join(' ');
      }

      // Test 1: 1 paragraph
      const para1 = generateParagraph();
      setStatus('lorem-1', para1.length > 100 && para1.includes('.'));

      // Test 2: 5 paragraphs
      const paras = [];
      for (let i = 0; i < 5; i++) paras.push(generateParagraph());
      setStatus('lorem-2', paras.length === 5 && paras.every(p => p.length > 50));

      // Test 3: Sentences
      const sentences = [];
      for (let i = 0; i < 3; i++) sentences.push(generateSentence());
      setStatus('lorem-3', sentences.length === 3 && sentences.every(s => s.endsWith('.')));

      // Test 4: Words
      const words = generateWords(20, false);
      setStatus('lorem-4', words.split(' ').length === 20);

      // Test 5: Starts with Lorem ipsum
      const loremStart = generateWords(10, true);
      setStatus('lorem-5', loremStart.startsWith('Lorem ipsum'));

      // Test 6: Word count accuracy
      const exactWords = generateWords(50, false);
      setStatus('lorem-6', exactWords.split(' ').length === 50);
    }

    // ========================================
    // QR Code Tests
    // ========================================
    function testQRCode() {
      console.log('Running QR Code tests...');

      // QR Code tests are visual - we test the setup
      // Test 1: URL encoding
      const urlTest = 'https://onedevkit.com';
      setStatus('qr-1', urlTest.startsWith('http'));

      // Test 2: Text encoding
      const textTest = 'Hello World!';
      setStatus('qr-2', textTest.length > 0);

      // Test 3-4: Size validation
      setStatus('qr-3', 256 >= 128 && 256 <= 512);
      setStatus('qr-4', 512 >= 128 && 512 <= 512);

      // Test 5: Error correction levels
      const ecLevels = ['L', 'M', 'Q', 'H'];
      setStatus('qr-5', ecLevels.length === 4);

      // Test 6: Canvas element
      const canvas = document.createElement('canvas');
      setStatus('qr-6', canvas instanceof HTMLCanvasElement);
    }

    // ========================================
    // Base64 Tests
    // ========================================
    function testBase64() {
      console.log('Running Base64 tests...');

      // Helper functions (matching base64.js implementation)
      function encode(str, options = {}) {
        const utf8Bytes = new TextEncoder().encode(str);
        const binaryString = Array.from(utf8Bytes, byte => String.fromCharCode(byte)).join('');
        let base64 = btoa(binaryString);

        if (options.urlSafe) {
          base64 = base64.replace(/\+/g, '-').replace(/\//g, '_').replace(/=+$/, '');
        }

        if (options.lineBreaks) {
          base64 = base64.match(/.{1,76}/g)?.join('\n') || base64;
        }

        return base64;
      }

      function decode(base64, options = {}) {
        let cleaned = base64.trim().replace(/[\r\n]/g, '');

        if (options.urlSafe || cleaned.includes('-') || cleaned.includes('_')) {
          cleaned = cleaned.replace(/-/g, '+').replace(/_/g, '/');
          const padding = cleaned.length % 4;
          if (padding) {
            cleaned += '='.repeat(4 - padding);
          }
        }

        const binaryString = atob(cleaned);
        const bytes = new Uint8Array(binaryString.length);
        for (let i = 0; i < binaryString.length; i++) {
          bytes[i] = binaryString.charCodeAt(i);
        }

        return new TextDecoder().decode(bytes);
      }

      function isValidBase64(str) {
        const cleaned = str.replace(/[\r\n\s]/g, '').replace(/-/g, '+').replace(/_/g, '/');
        const base64Regex = /^[A-Za-z0-9+/]*={0,2}$/;
        if (!base64Regex.test(cleaned)) return false;
        try { atob(cleaned); return true; } catch { return false; }
      }

      // Test 1: Encode simple text
      const encoded1 = encode('Hello, World!');
      setStatus('base64-1', encoded1 === 'SGVsbG8sIFdvcmxkIQ==');

      // Test 2: Decode Base64 to text
      const decoded2 = decode('SGVsbG8sIFdvcmxkIQ==');
      setStatus('base64-2', decoded2 === 'Hello, World!');

      // Test 3: Roundtrip
      const original = 'The quick brown fox jumps over the lazy dog.';
      const encoded3 = encode(original);
      const decoded3 = decode(encoded3);
      setStatus('base64-3', decoded3 === original);

      // Test 4: URL-safe encoding
      const urlSafeEncoded = encode('Test+/Data', { urlSafe: true });
      setStatus('base64-4', !urlSafeEncoded.includes('+') && !urlSafeEncoded.includes('/') && !urlSafeEncoded.includes('='));

      // Test 5: Unicode/UTF-8
      const unicodeStr = 'Hello, ä¸–ç•Œ! Emoji: ðŸŽ‰';
      const unicodeEncoded = encode(unicodeStr);
      const unicodeDecoded = decode(unicodeEncoded);
      setStatus('base64-5', unicodeDecoded === unicodeStr);

      // Test 6: Invalid Base64 detection
      setStatus('base64-6', !isValidBase64('Invalid@#$%') && !isValidBase64('!!!'));

      // Test 7: Empty string
      const emptyEncoded = encode('');
      const emptyDecoded = decode('');
      setStatus('base64-7', emptyEncoded === '' && emptyDecoded === '');

      // Test 8: Line breaks (MIME format)
      const longText = 'A'.repeat(100);
      const mimeEncoded = encode(longText, { lineBreaks: true });
      setStatus('base64-8', mimeEncoded.includes('\n') && mimeEncoded.split('\n').every(line => line.length <= 76));

      // Test 9: Whitespace handling
      const withSpaces = decode('SGVs\nbG8s\nIFdv\ncmxk\nIQ==');
      setStatus('base64-9', withSpaces === 'Hello, World!');

      // Test 10: Large text
      const largeText = 'Lorem ipsum '.repeat(1000);
      const largeEncoded = encode(largeText);
      const largeDecoded = decode(largeEncoded);
      setStatus('base64-10', largeDecoded === largeText);
    }

    // ========================================
    // Utility Tests
    // ========================================
    function testUtilities() {
      console.log('Running Utility tests...');

      // Test 1: Theme toggle
      const themes = ['light', 'dark'];
      setStatus('util-1', themes.includes('light') && themes.includes('dark'));

      // Test 2: Clipboard API
      setStatus('util-2', typeof navigator.clipboard !== 'undefined' || typeof document.execCommand === 'function');

      // Test 3: Toast (DOM creation)
      const toast = document.createElement('div');
      toast.className = 'toast';
      setStatus('util-3', toast.className === 'toast');

      // Test 4: JSON validation
      const isValidJSON = (str) => { try { JSON.parse(str); return true; } catch { return false; } };
      setStatus('util-4', isValidJSON('{}') && !isValidJSON('invalid'));

      // Test 5: URL validation
      const isValidURL = (str) => { try { new URL(str); return true; } catch { return false; } };
      setStatus('util-5', isValidURL('https://example.com') && !isValidURL('not-a-url'));

      // Test 6: Email validation
      const isValidEmail = (str) => /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(str);
      setStatus('util-6', isValidEmail('test@example.com') && !isValidEmail('invalid'));

      // Test 7: Debounce
      const debounce = (fn, wait) => {
        let timeout;
        return (...args) => {
          clearTimeout(timeout);
          timeout = setTimeout(() => fn(...args), wait);
        };
      };
      setStatus('util-7', typeof debounce(() => {}, 100) === 'function');
    }

    // ========================================
    // Run All Tests
    // ========================================
    function runAllTests() {
      results = { passed: 0, failed: 0, total: 0 };

      // Reset all statuses
      document.querySelectorAll('.test-status').forEach(el => {
        el.className = 'test-status pending';
        el.textContent = 'Pending';
      });

      // Run all test suites
      testJSON();
      testPassword();
      testUUID();
      testLoremIpsum();
      testQRCode();
      testBase64();
      testUtilities();

      // Show summary
      updateSummary();

      console.log(`\n========================================`);
      console.log(`Test Results: ${results.passed}/${results.total} passed`);
      console.log(`========================================\n`);
    }
  </script>
</body>
</html>
